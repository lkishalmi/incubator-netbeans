apply plugin: 'java-library'

configurations { testApi }

sourceSets {
    main {
        java {
            srcDirs = ['src']
        }
    }
    test {
        java {
            srcDirs = ['test/unit']
        }
    }
}

jar {
    baseName = project.name.replace('.', '-')
}

task testJar(type: Jar) {
    baseName = project.name.replace('.', '-')
    classifier = 'test'
    from sourceSets.test.output.classesDirs
}

artifacts { testApi testJar }
