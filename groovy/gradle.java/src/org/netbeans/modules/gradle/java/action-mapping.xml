<?xml version="1.0"?>
<!DOCTYPE actions SYSTEM "action-mapping.dtd">
<actions>
    <apply-for plugins="java">
        <action name="test.single">
            <args>--rerun-tasks test --tests ${selectedMethod}</args>
        </action>
        <action name="run.single.method">
            <args>--rerun-tasks test --tests ${selectedMethod}</args>
        </action>
        <action name="debug.single.method">
            <args>--rerun-tasks test --debug-jvm --tests ${selectedMethod}</args>
        </action>
        <action name="debug.test.single">
            <args>--rerun-tasks test --debug-jvm --tests ${selectedMethod}</args>
        </action>

        <action name="javadoc">
            <args>javadoc</args>
        </action>

        <action name="debug.fix" repeatable="false">
            <args>-offline --no-rebuild ${affectedBuildTasks}</args>
            <reload rule="NEVER"/>
        </action>

        <action name="compile.single" repetable="false">
            <args>--offline --no-rebuild ${affectedBuildTasks}</args>
            <reload rule="NEVER"/>
        </action>

        <action name="run.single">
            <args>-PrunClassName=${selectedClass} runSingle</args>
        </action>

        <action name="debug.single">
            <args>-PrunClassName=${selectedClass} runSingle --debug-jvm</args>
        </action>
    </apply-for>

    <apply-for plugins="application">
        <action name="run">
            <args>run</args>
        </action>

        <action name="debug">
            <args>run --debug-jvm</args>
        </action>
    </apply-for>

    <apply-for plugins="java-base,scala-base,com.github.lkishalmi.gatling">
        <action name="build">
            <args>gatlingClasses</args>
        </action>
        <action name="rebuild">
            <args>clean gatlingClasses</args>
        </action>
        <action name="run">
            <args>gatlingRun</args>
        </action>
        <action name="run.single">
            <args>gatlingRun-${selectedClass}</args>
        </action>
    </apply-for>
</actions>
